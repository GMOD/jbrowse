<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">

<html>
  <head><title>The JBrowse biodb-to-json.pl Configuration File</title></head>
    <link rel="stylesheet" type="text/css" href="docs.css"></link>
  <body>
    <div class="container">
      <h3>The JBrowse <code>biodb-to-json.pl</code> Configuration File</h3>
      
      <p>
        <code>biodb-to-json.pl</code>
        and <code>prepare-refseqs.pl</code> can use a configuration
        file to connect to an existing <code>Bio::DB::*</code>
        database and batch-format its data for use by JBrowse You
        don't necessarily need a config file if all of your data is in
        flat files.  In this case, it is recommended that you format
        your data using <code>flatfile-to-json.pl</code>.
        See <a href="bexamples/format_tomato.sh"><code>docs/examples/format_tomato.sh</code></a>
        for an example of a simple shell script that
        uses <code>prepare-refseqs.pl</code>
        and <code>flatfile-to-json.pl</code> to to create a complete
        genome browser for Tomato.
      </p>

      <p>
        The basic syntax of the configuration file
        is <a href="http://json.org">JSON</a>.  Many of the
        configuration keys are quite similar to those used by
        <a href="http://gmod.org/wiki/GBrowse">GBrowse</a>.
      </p>

      <p>The root level of the config file:
        <table>
          <tr><th>key</th><th>value</th><th>type</th></tr>
          <tr><td>description</td><td>Brief description of the data source</td><td>string</td></tr>
          <tr><td>db_adaptor</td><td>Perl class that implements Bio::DasI.<br>Common ones include <ul><li>Bio::DB::SeqFeature::Store</li><li>Bio::DB::GFF</li><li>Bio::DB::Das::Chado</li></ul></td><td>string</td></tr>
          <tr><td>db_args</td><td>arguments to the constructor for the specified db_adaptor</td><td>dictionary of key-value pairs</td></tr>
          <tr><td>TRACK DEFAULTS</td><td>default track settings</td><td>track settings dictionary</td></tr>
          <tr><td>tracks</td><td>settings for all the tracks</td><td>array of track settings dictionaries</td></tr>
        </table>
      </p>

      <a name="track_settings" id="track_settings"></a>
      <p>The main part of the configuration file consists of the <b>per-track settings:</b><table>
          <tr><th>key</th><th>value</th><th>type</th></tr>
          <tr><td>track</td><td>track identifier used by the software.<br>It's more convenient if this doesn't have any weird characters or spaces in it</td><td>string</td></tr>
          <tr><td>key</td><td>Human-readable label for the track</td><td>string</td></tr>
          <tr><td>feature</td><td>List of feature types to put into the track</td><td>array of strings</td></tr>
          <tr><td>autocomplete</td><td>If you want to be able to search for the features in this track, set this to one of the following strings:<ul><li><span class="code">label</span><br>to search on the feature label</li><li><span class="code">alias</span><br>to search on the feature aliases</li><li><span class="code">all</span><br>to search on both labels and aliases</ul></td><td>string</td></tr>
          <tr><td>class</td><td>The CSS class for the feature.  Look in <a href="featureglyphs.html">the feature glyph list</a> for the available options.</td><td>string</td></tr>
          <tr><td>category</td><td>The category this track is in, for grouping the tracks together</td><td>string</td></tr>
          <tr><td>urlTemplate</td><td>Template for a URL to visit if the user clicks on a feature in this track</td><td>string</td></tr>
          <tr><td>extraData</td><td>Extra per-feature information to send to the client; useful in the urlTemplate</td><td>dictionary of header -&gt; perl sub</td></tr>
          <tr><td>subfeatureClasses</td><td>Specifies what CSS class to apply to what type of subfeature</td><td>dictionary of type -&gt; CSS class</td></tr>
          <tr><td>arrowheadClass</td><td>CSS class for arrowheads</td><td>string</td></tr>
          <tr><td>clientConfig</td><td>settings to control the behavior of the client for this track, mainly zoom thresholds for when to display more information</td><td>dictionary</td></tr>
        </table>
      </p>
    </div>
  </body>
</html>
